name: Free RDP with VSCode + C++ + Python

on:
  workflow_dispatch:

jobs:
  build:
    runs-on: windows-latest

    steps:
    - name: Setup RDP
      run: |
        echo "Setting up your Free RDP..."
        powershell -command "Set-ExecutionPolicy Bypass -Scope Process -Force; iex ((New-Object System.Net.WebClient).DownloadString('https://raw.githubusercontent.com/azure/setup-rdp/main/setup.ps1'))"

    - name: Install Tools (VS Code + Python + C++)
      shell: pwsh
      run: |
        echo "Installing tools..."
        if (!(Test-Path C:\Tools)) { mkdir C:\Tools }
        cd C:\Tools

        choco install -y vscode
        choco install -y python
        choco install -y mingw

        echo "All tools installed successfully!"

    - name: RDP Info
      run: |
        echo "âœ… Done! You can now connect to your RDP."
        echo "Open VS Code directly and start coding in C++ or Python."
